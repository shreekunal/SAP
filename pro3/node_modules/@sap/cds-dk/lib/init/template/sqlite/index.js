const mvn = require('../../mvn')
const { readProject } = require('../../projectReader')
const { merge } = require('../../merge')

module.exports = class SQLiteTemplate extends require('../../plugin') {

    static help() {
      return 'database support for SQLite'
    }

    async run() {
      const project = readProject()
      const { isNodejs, isJava, configFile } = project
      if (isNodejs) {
        await merge(__dirname, 'files/package.json.hbs').into(configFile, { with: project })
      } else if (isJava) {
        await mvn.add('sqlite')
      }
    }
}
